<div id="parent">
  <div>Item 1</div>
  <div>Item 2</div>
  <div>Item 3</div>
  <div>Item 4</div>
  <div>Item 5</div>
</div>

<script>
  function insertElementsAtPosition(parent, position, ...elements) {
    const children = parent.children;
    const insertPosition = position - 1; // Преобразуем позицию к индексу массива (от 0)

    // Определяем куда вставить: если позиция существует, вставляем перед элементом
    const referenceNode = children[insertPosition] || null;

    elements.forEach((element) => {
      // Вставляем каждый элемент перед referenceNode (или в конец, если referenceNode === null)
      parent.insertBefore(element, referenceNode);
    });
  }

  const parent = document.getElementById('parent');

  const newElement1 = document.createElement('div');
  newElement1.textContent = 'New Element 1';

  const newElement2 = document.createElement('div');
  newElement2.textContent = 'New Element 2';

  const newElement3 = document.createElement('div');
  newElement3.textContent = 'New Element 3';

  // Вставляем 3 новых элемента на позицию 4
  insertElementsAtPosition(parent, 4, newElement1, newElement2, newElement3);
</script>
